<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>工作履历</title>
    <meta name="viewport" content="width=1004, user-scalable=0">
    <link rel="stylesheet" href="../css/resume.css" type="text/css">
</head>
<body>
    <div class="main_content">
        <div class="h_title">
            <div class="title">
                工作履历
            </div>
        </div>
        <div class="resume_main">
            <div class="resume_card" v-for="(item,index) in cardList" :data-set="index" @click="showDetail(index)">
                <div class="title">
                    {{item.title}}
                </div>
                <div class="detail">
                    {{item.detail}}
                </div>
                <div class="footer_card">
                    <div class="data">
                        {{item.date}}
                    </div>
                    <div class="more">
                        查看详情
                        <i></i>
                    </div>
                </div>
            </div>
            <div class="resume_detail">
                <div class="h_title">
                    <i @click="backResume"> 履历</i>
                    <div class="title">
                        {{cardList[current].title}}
                    </div>
                    <div class="blank"></div>
                </div>
                <div class="main_table">
                    <table>
                        <tr>
                            <td>项目名称</td>
                            <td>{{cardList[current].title}}</td>
                        </tr>
                        <tr>
                            <td>所属企业</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>所属班组</td>
                            <td>----</td>
                        </tr>
                        <tr>
                            <td>人员类型</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>工种</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>进场时间</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>退场时间</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>考勤天数</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>领薪金额</td>
                            <td>---</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="index">
            <div class="index_pic"></div>
            首页
        </div>
        <div class="resume">
            <div class="resume_pic"></div>
            工作履历
        </div>
        <div class="assess">
            <div class="assess_pic"></div>
            用工评价
        </div>
        <div class="userInfo">
            <div class="userInfo_pic"></div>
            我的
        </div>
    </div>
    <script type="text/javascript" src="../js/resume.js"></script>
    <script src="../js/vue.js" type="text/javascript"></script>
    <script src="../js/jQuery.js"></script>
    <script>
        //
        const resume = new Vue({
            el:'.resume_main',
            data:{
                cardList:[{
                    title:'腾晖科技大厦一期',
                    detail:'广东建粤工程有限公司  普工',
                    date:'2017-10-11 至 2018-4-20',
                },
                    {
                        title:'铭泰城市广场',
                        detail:'广东建粤工程有限公司  普工',
                        date:'2017-10-11 至 2018-4-20',
                    },
                    {
                        title:'格力广场一期',
                        detail:'广东建粤工程有限公司  普工',
                        date:'2017-10-11 至 2018-4-20',
                    },
                    {
                        title:'华发商都购物广场二期',
                        detail:'广东建粤工程有限公司  普工',
                        date:'2017-10-11 至 2018-4-20',
                    }
                ],
                isShow:true,
                current:0,
            },
            methods:{
                changeShow(index){
                    this.current = index;
                    if (this.isShow) {
                        this.isShow = false;
                    }else{
                        this.isShow = true
                    }
                },
                showDetail(index){
                    this.current = index;
                    let resume_card = document.querySelectorAll('.resume_card');
                    console.log(resume_card);
                    resume_card.forEach(function (item,index) {
                        item.style.display = 'none';
                    });
                    const resume_detail = document.querySelector('.resume_detail');
                    resume_detail.style.display = 'block';
                    const h_title = document.querySelector('.h_title');
                    h_title.style.display = 'none';
                },
                backResume(){
                    const resume_detail = document.querySelector('.resume_detail');
                    resume_detail.style.display = 'none';
                    const h_title = document.querySelector('.h_title');
                    h_title.style.display = 'flex';
                    let resume_card = document.querySelectorAll('.resume_card');
                    resume_card.forEach(function (item,index) {
                        item.style.display = 'block';
                    });
                }
            }
        });
        //等待所有的DOM元素加载结束之后
        const jj = $.noConflict();
        jj(document).ready(function () {
            //回到主页
            jj('.footer .index').click(function () {
                location.href="../index.html"
            });
            //用工评价
            jj('.footer .assess').click(function () {
                location.href = "../other_html/assess.html"
            });
            //个人中心
            jj('.footer .userInfo').click(function () {
                location.href = '../other_html/userInfo.html'
            })
        })
    </script>
</body>
</html>